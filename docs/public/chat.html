<html>
    <body>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script type="application/javascript">
        function callapi() {
            const config = {
                headers:{
                    'Content-Type': 'application/json'
                }
            }
            const url = "https://api.weburban.com/generate/text-from-text";
            const json = JSON.stringify({ "prompt" : "How do you cook eggs"});
            const data = { 'body' : json }

            axios.defaults.headers['x-api-key'] = document.getElementById("token").value;
            console.log(document.getElementById("token").value)
            
            axios.post(url, data, config)
                .then(response => {
                    console.log(response.data);
            })
            .catch(error => console.error(error));
        }
        function sendChat() {
            const chatText = document.getElementById("chatText");
            const newDiv = document.createElement("div");
            const text = document.createTextNode("Prompt: " + chatText.value);
            newDiv.appendChild(text);
            var chatList = document.getElementById("chatList");
            chatList.appendChild(newDiv)
            callapi()
        }
        </script>
        <input id="token" type="text" placeholder="token">
        Type a question: <br />
        <input id="chatText" type="text" placeholder="Prompt text here...">
        <button type="submit" onclick="sendChat()">Send</button>
        <div id="chatList"></div>
    </body>
</html>


